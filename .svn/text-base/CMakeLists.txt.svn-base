cmake_minimum_required (VERSION 2.6)
project (UTILZREG)


# Mandatory???
include_directories ("${PROJECT_BINARY_DIR}")
# end mandatory???

include_directories ("${PROJECT_SOURCE_DIR}/lib/nifti/niftilib")
include_directories ("${PROJECT_SOURCE_DIR}/lib/nifti/znzlib")
include_directories ("${PROJECT_SOURCE_DIR}/lib/include")
add_subdirectory (lib/nifti)
add_subdirectory (lib/src)


set (EXTRA_LIBS ${EXTRA_LIBS} Demons)
set (EXTRA_LIBS ${EXTRA_LIBS} PW_Demons)
set (EXTRA_LIBS ${EXTRA_LIBS} HC_Demons)
#set (EXTRA_LIBS ${EXTRA_LIBS} LogDemonsFX)
set (EXTRA_LIBS ${EXTRA_LIBS} LDDMM_Plain)
set (EXTRA_LIBS ${EXTRA_LIBS} LIDM)
#set (EXTRA_LIBS ${EXTRA_LIBS} DMM)
#set (EXTRA_LIBS ${EXTRA_LIBS} LDDMM_Disc)
#set (EXTRA_LIBS ${EXTRA_LIBS} LDDMM_FX_Disc)
set (EXTRA_LIBS ${EXTRA_LIBS} LDDMM_Splines)
set (EXTRA_LIBS ${EXTRA_LIBS} LDDMM_Beg)
#set (EXTRA_LIBS ${EXTRA_LIBS} LeftInvariantDM)
set (EXTRA_LIBS ${EXTRA_LIBS} GeoShoot)
#set (EXTRA_LIBS ${EXTRA_LIBS} DiscontinuousReg)
set (EXTRA_LIBS ${EXTRA_LIBS} Metamorphosis)
set (EXTRA_LIBS ${EXTRA_LIBS} SciCalcPack)

IF(NOT APPLE)
  set(CMAKE_CXX_FLAGS "${CMAKE_C_FLAGS} -fopenmp")  #FOR OPENMP
ENDIF(NOT APPLE)


# add the executable
add_executable (uTIlzReg_Demons               applications/uTIlzReg_Demons.cc)
add_executable (uTIlzReg_PW_Demons            applications/uTIlzReg_PW_Demons.cc)
add_executable (uTIlzReg_HC_Demons            applications/uTIlzReg_HC_Demons.cc)
#add_executable (uTIlzReg_LogDemonsFX          applications/uTIlzReg_LogDemonsFX.cc)
add_executable (uTIlzReg_LDDMM_Plain          applications/uTIlzReg_LDDMM_Plain.cc)
add_executable (uTIlzReg_LIDM                 applications/uTIlzReg_LIDM.cc)
#add_executable (uTIlzReg_DMM                  applications/uTIlzReg_DMM.cc)
#add_executable (uTIlzReg_LDDMM_Disc           applications/uTIlzReg_LDDMM_Disc.cc)
#add_executable (uTIlzReg_LDDMM_FX_Disc        applications/uTIlzReg_LDDMM_FX_Disc.cc)
add_executable (uTIlzReg_LDDMM_Splines        applications/uTIlzReg_LDDMM_Splines.cc)
add_executable (uTIlzReg_LDDMM_Splines_LearnM applications/uTIlzReg_LDDMM_Splines_LearnM.cc)
add_executable (uTIlzReg_LDDMM_Beg            applications/uTIlzReg_LDDMM_Beg.cc)
#add_executable (uTIlzReg_LeftInvariantDM      applications/uTIlzReg_LeftInvariantDM.cc)
add_executable (uTIlzReg_GeoShoot             applications/uTIlzReg_GeoShoot.cc)
#add_executable (uTIlzReg_DiscontinuousReg     applications/uTIlzReg_DiscontinuousReg.cc)
add_executable (uTIlzReg_Metamorphosis        applications/uTIlzReg_Metamorphosis.cc)
add_executable (uTIlzReg_Tools                applications/uTIlzReg_Tools.cc)
add_executable (CochleaAna                    applications/CochleaAna.cc)
add_executable (CurvesAna                     applications/CurvesAna.cc)

target_link_libraries (uTIlzReg_Demons  ${EXTRA_LIBS})
target_link_libraries (uTIlzReg_PW_Demons  ${EXTRA_LIBS})
target_link_libraries (uTIlzReg_HC_Demons  ${EXTRA_LIBS})
#target_link_libraries (uTIlzReg_LogDemonsFX  ${EXTRA_LIBS})
target_link_libraries (uTIlzReg_LDDMM_Plain  ${EXTRA_LIBS})
target_link_libraries (uTIlzReg_LIDM  ${EXTRA_LIBS})
#target_link_libraries (uTIlzReg_DMM  ${EXTRA_LIBS})
#target_link_libraries (uTIlzReg_LDDMM_Disc  ${EXTRA_LIBS})
#target_link_libraries (uTIlzReg_LDDMM_FX_Disc  ${EXTRA_LIBS})
target_link_libraries (uTIlzReg_LDDMM_Splines  ${EXTRA_LIBS})
target_link_libraries (uTIlzReg_LDDMM_Splines_LearnM  ${EXTRA_LIBS})
target_link_libraries (uTIlzReg_LDDMM_Beg  ${EXTRA_LIBS})
#target_link_libraries (uTIlzReg_LeftInvariantDM  ${EXTRA_LIBS})
target_link_libraries (uTIlzReg_GeoShoot  ${EXTRA_LIBS})
#target_link_libraries (uTIlzReg_DiscontinuousReg  ${EXTRA_LIBS})
target_link_libraries (uTIlzReg_Metamorphosis  ${EXTRA_LIBS})
target_link_libraries (uTIlzReg_Tools  ${EXTRA_LIBS})
target_link_libraries (CochleaAna  ${EXTRA_LIBS})
target_link_libraries (CurvesAna  ${EXTRA_LIBS})
